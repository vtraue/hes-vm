sources := "src/*.cpp src/bytecode/*.cpp" 
headers := "src/*.hpp src/bytecode/*.hpp"
out := "../out/debug.bin" 
format:
	clang-format -i --style=Google {{sources}} {{headers}}

tidy : format
	clang-tidy --checks='clang-analyzer-*, performance-*, bugprone-*' {{sources}}

build: format 
	clang++ src/all.cpp -std=c++23 -g -Werror -Wall -Wextra -pedantic-errors -Wconversion -Wsign-conversion -fsanitize=address -lSDL3 -o {{out}}

run:
	{{out}}

run-valgrind:
	valgrind --leak-check=yes {{out}}


